{"ast":null,"code":"import { GET_MOVIES, DELETE_MOVIE, SET_FILTERS_CATEGORIES, TOGGLE_CATEGORY_STATE, EVOLUATE_MOVIE } from './const';\nconst initState = {\n  moviesList: [],\n  categories: []\n};\n\nconst movieReducer = (state = initState, action) => {\n  switch (action.type) {\n    case GET_MOVIES:\n      return { ...state,\n        moviesList: action.moviesList\n      };\n\n    case SET_FILTERS_CATEGORIES:\n      {\n        return { ...state,\n          categories: action.categories\n        };\n      }\n\n    case DELETE_MOVIE:\n      {\n        const copyState = [...state.moviesList];\n        const filtered = copyState.filter(movie => movie.id !== action.id);\n        return { ...state,\n          moviesList: filtered\n        };\n      }\n\n    case TOGGLE_CATEGORY_STATE:\n      {\n        const copyStateCategories = [...state.categories];\n        const selectedCategory = copyStateCategories.find(cat => cat.id === action.id);\n\n        if (selectedCategory.checked) {\n          selectedCategory.checked = false;\n        } else {\n          selectedCategory.checked = true;\n        }\n\n        return { ...state,\n          categories: copyStateCategories\n        };\n      }\n\n    case EVOLUATE_MOVIE:\n      {\n        const copyState = [...state.moviesList];\n        const movie = copyState.find(movie => movie.id === action.id);\n\n        const ddd = (addedEntity, removeEntity) => {\n          addedEntity = movie.setLike ? addedEntity -= 1 : addedEntity += 1;\n          removeEntity = movie.setDislike ? removeEntity -= 1 : removeEntity;\n          movie.setLike = movie.setLike ? false : true;\n          movie.setDislike = false;\n        };\n\n        if (action.action === 'like') {\n          ddd(movie.likes, movie.dislikes); // movie.likes = movie.setLike ? movie.likes -= 1 : movie.likes += 1;\n          // movie.dislikes = movie.setDislike ? movie.dislikes -= 1 : movie.dislikes;\n          // movie.setLike = movie.setLike ? false : true;\n          // movie.setDislike = false;\n        } else if (action.action === 'dislike') {\n          movie.dislikes = movie.setDislike ? movie.dislikes -= 1 : movie.dislikes += 1;\n          movie.likes = movie.setLike ? movie.likes -= 1 : movie.likes;\n          movie.setDislike = movie.setDislike ? false : true;\n          movie.setLike = false;\n        }\n\n        return { ...state,\n          moviesList: copyState\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default movieReducer;","map":{"version":3,"sources":["/Users/y.kotenko/Desktop/particeep/src/store/reducer.js"],"names":["GET_MOVIES","DELETE_MOVIE","SET_FILTERS_CATEGORIES","TOGGLE_CATEGORY_STATE","EVOLUATE_MOVIE","initState","moviesList","categories","movieReducer","state","action","type","copyState","filtered","filter","movie","id","copyStateCategories","selectedCategory","find","cat","checked","ddd","addedEntity","removeEntity","setLike","setDislike","likes","dislikes"],"mappings":"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","sourcesContent":["import {\n  GET_MOVIES,\n  DELETE_MOVIE,\n  SET_FILTERS_CATEGORIES,\n\tTOGGLE_CATEGORY_STATE,\n\tEVOLUATE_MOVIE,\n} from './const';\n\nconst initState = {\n  moviesList: [],\n\tcategories: [],\n};\n\nconst movieReducer = (state = initState, action) => {\n  switch (action.type) {\n    case GET_MOVIES:\n      return {\n        ...state,\n        moviesList: action.moviesList,\n      };\n\n    case SET_FILTERS_CATEGORIES: {\n      return {\n        ...state,\n        categories: action.categories,\n      };\n\t\t}\n\n    case DELETE_MOVIE: {\n\t\t\tconst copyState = [...state.moviesList];\n\t\t\tconst filtered = copyState.filter((movie) => movie.id !== action.id);\n        \n      return {\n        ...state,\n        moviesList: filtered,\n      };\n    }\n\n    case TOGGLE_CATEGORY_STATE: {\n\t\t\tconst copyStateCategories = [...state.categories];\n\t\t\tconst selectedCategory = copyStateCategories.find((cat) => cat.id === action.id);\n\t\t\tif (selectedCategory.checked) {\n\t\t\t\tselectedCategory.checked = false;\n\t\t\t} else {\n\t\t\t\tselectedCategory.checked = true;\n\t\t\t}\n        \n      return {\n        ...state,\n        categories: copyStateCategories,\n      };\n    }\n\n    case EVOLUATE_MOVIE: {\n\t\t\tconst copyState = [...state.moviesList];\n\t\t\tconst movie = copyState.find((movie) => movie.id === action.id);\n\t\t\tconst ddd = (addedEntity, removeEntity,) => {\n\t\t\t\taddedEntity = movie.setLike ? addedEntity -= 1 : addedEntity += 1;\n\t\t\t\tremoveEntity = movie.setDislike ? removeEntity -= 1 : removeEntity;\n    \t\tmovie.setLike = movie.setLike ? false : true;\n\t\t\t\tmovie.setDislike = false;\n\t\t\t}\n\t\t\tif (action.action === 'like') {\n\t\t\t\tddd(movie.likes, movie.dislikes);\n\t\t\t\t// movie.likes = movie.setLike ? movie.likes -= 1 : movie.likes += 1;\n\t\t\t\t// movie.dislikes = movie.setDislike ? movie.dislikes -= 1 : movie.dislikes;\n    \t\t// movie.setLike = movie.setLike ? false : true;\n\t\t\t\t// movie.setDislike = false;\n\t\t\t} else if (action.action === 'dislike') {\n\t\t\t\tmovie.dislikes = movie.setDislike ? movie.dislikes -= 1 : movie.dislikes += 1;\n\t\t\t\tmovie.likes = movie.setLike ? movie.likes -= 1 : movie.likes;\n\t\t\t\tmovie.setDislike = movie.setDislike ? false : true;\n\t\t\t\tmovie.setLike = false;\n\t\t\t}\n        \n      return {\n        ...state,\n        moviesList: copyState,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default movieReducer;\n"]},"metadata":{},"sourceType":"module"}